@page "/dashboard"

@using MauiApp2.State;
@using RazorClassLibrary1;

<CustomerComponent ShowAlert="ShowAlert" LogOut="Logout"/>


@code {
    [CascadingParameter(Name = "AuthenticationState")]
    public AuthenticationState AuthenticationState { get; set; }

    private async Task ShowAlert()
    {
        if(Connectivity.NetworkAccess != NetworkAccess.Internet)
        {
            await Application.Current.MainPage.DisplayAlert("Connectivity Error", "No Internet Access", "Ok");
        }

        await Application.Current.MainPage.DisplayAlert("Empty Value(s)", "Please Enter both Name and Email", "OK");
    }

    private async Task Logout()
    {
        SecureStorage.Remove(AuthenticationState.AuthStoreKey);
        AuthenticationState.UnLoadState();
    }
}